<div class="table-responsive">
  <table class="table table-hover align-middle">
    <thead class="table-light">
      <tr>
        <th scope="col" class="py-3">Usuario</th>
        <th scope="col" class="py-3">Roles Asignados</th>
        <th scope="col" class="py-3">Fecha Creaci√≥n</th>
        <th scope="col" class="py-3">Estado</th>
        <th scope="col" class="py-3 text-end">Acciones</th>
      </tr>
    </thead>
    <tbody>
      @for (user of users; track user.idgu) {
        <tr>
          <td class="fw-medium">{{ user.usuariogu }}</td>
          <td>
            <span class="badge bg-light text-dark border rounded-pill px-3">
              @if (user.rolesasignadosgu === 1) {
                {{ user.rolesasignadosgu }} Rol asignado
              } @else {
                {{ user.rolesasignadosgu }} Roles asignados
              }
            </span>
          </td>
          <td class="text-muted">{{ user.fechacreaciongu | date:'dd/MM/yyyy' }}</td>
          <td>
            <span class="badge rounded-pill"
                  [ngClass]="{
                    'bg-success-subtle text-success': (user.estadogu | lowercase) === 'activo',
                    'bg-danger-subtle text-danger': (user.estadogu | lowercase) === 'inactivo'
                  }">
              {{ user.estadogu }}
            </span>
          </td>
          <td class="text-end">
            <div class="d-inline-flex gap-1">
              <button class="btn btn-sm btn-outline-secondary" title="Ver detalles"
                      aria-label="Ver detalles del usuario">
                <i class="bi bi-eye"></i>
              </button>
              <button class="btn btn-sm btn-outline-success" title="Editar"
                      (click)="onEditClick(user)" aria-label="Editar usuario">
                <i class="bi bi-pencil"></i>
              </button>
            </div>
          </td>
        </tr>
      } @empty {
        @if (!isLoading) {
          <tr>
            <td colspan="5" class="text-center py-5 text-muted">
              <i class="bi bi-inbox fs-1 d-block mb-2 opacity-50"></i>
              No se encontraron usuarios.
            </td>
          </tr>
        }
      }
    </tbody>
  </table>
</div>
